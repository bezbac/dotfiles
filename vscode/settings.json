{
  "[html]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[javascript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[json]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[jsonc]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[python]": {
    "editor.defaultFormatter": "charliermarsh.ruff"
  },
  "[typescript]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[typescriptreact]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "[yaml]": {
    "editor.defaultFormatter": "esbenp.prettier-vscode"
  },
  "cSpell.enabled": false,
  "command aliases": {
    "workbench.action.files.saveAll": "wq",
    "workbench.action.files.save": "w",
    "workbench.action.closeActiveEditor": "quit, q"
  },
  "diffEditor.ignoreTrimWhitespace": true,
  "editor.acceptSuggestionOnCommitCharacter": false,
  "editor.accessibilitySupport": "off",
  "editor.autoClosingQuotes": "always",
  "editor.bracketPairColorization.enabled": true,
  "editor.fontFamily": "Fira Code",
  "editor.fontSize": 14,
  "editor.formatOnPaste": true,
  "editor.formatOnSave": true,
  "editor.formatOnType": true,
  "editor.guides.bracketPairs": "active",
  "editor.inlineSuggest.enabled": true,
  "editor.lineNumbers": "relative",
  "editor.minimap.autohide": true,
  "editor.minimap.renderCharacters": false,
  "editor.minimap.showSlider": "always",
  "editor.quickSuggestions": {
    "strings": true
  },
  "editor.snippetSuggestions": "top",
  "editor.suggestSelection": "recentlyUsedByPrefix",
  "emmet.includeLanguages": {
    "javascript": "javascriptreact", // Fix emmet in react
    "vue-html": "html"
  },
  "emmet.syntaxProfiles": {
    "javascript": "jsx"
  },
  "explorer.sortOrderLexicographicOptions": "upper",
  "extensions.ignoreRecommendations": true,
  "extensions.autoCheckUpdates": false,
  "extensions.autoUpdate": false,
  "files.exclude": {
    "**/node_modules": true
  },
  "files.insertFinalNewline": true,
  "files.trimFinalNewlines": true,
  "find-it-faster.general.killTerminalAfterUse": true,
  "git.confirmSync": false,
  "git.mergeEditor": false,
  "git.openRepositoryInParentFolders": "always",
  "github.copilot.chat.codesearch.enabled": true,
  "github.copilot.chat.languageContext.typescript.enabled": true,
  "github.copilot.enable": {
    "*": true,
    "markdown": false,
    "plaintext": true,
    "scminput": false
  },
  "github.copilot.nextEditSuggestions.enabled": true,
  // "rust-analyzer.cargo.allFeatures": true,
  "githubPullRequests.createOnPublishBranch": "never",
  "githubPullRequests.defaultMergeMethod": "squash",
  "githubPullRequests.ignoredPullRequestBranches": ["main", "master", "staging", "dev"],
  "githubPullRequests.pullBranch": "never",
  "githubPullRequests.queries": [
    {
      "label": "Waiting For My Review",
      "query": "repo:${owner}/${repository} is:open review-requested:${user}"
    },
    {
      "label": "Created By Me",
      "query": "repo:${owner}/${repository} is:open author:${user}"
    }
  ],
  "jupyter.askForKernelRestart": false,
  "jupyter.widgetScriptSources": ["jsdelivr.com", "unpkg.com"],
  "markdown-preview-github-styles.colorTheme": "light",
  "projectManager.git.baseFolders": ["~/Documents/Dev"],
  "projectManager.ignoreProjectsWithinProjects": true,
  "scss.validate": false,
  "security.promptForLocalFileProtocolHandling": false,
  "tailwindCSS.experimental.classRegex": [
    "tw`([^`]*)", // tw`...`
    "tw=\"([^\"]*)", // <div tw="..." />
    "tw={\"([^\"}]*)", // <div tw={"..."} />
    "tw\\.\\w+`([^`]*)", // tw.xxx`...`
    "tw\\(.*?\\)`([^`]*)" // tw(Component)`...`
  ],
  "tailwindCSS.includeLanguages": {
    "typescript": "javascript",
    "typescriptreact": "javascript"
  },
  "terminal.external.osxExec": "WezTerm.app",
  "terminal.integrated.fontSize": 14,
  "terminal.integrated.tabs.enabled": false,
  "trailing-spaces.schemeIgnore": ["output"],
  "trailing-spaces.syntaxIgnore": ["markdown"],
  "typescript.tsserver.experimental.enableProjectDiagnostics": true,
  "update.mode": "manual",
  "vscode_custom_css.imports": ["file://${userHome}/Library/Application Support/Code/User/custom.css"],
  "window.customTitleBarVisibility": "never",
  "window.titleBarStyle": "native",
  "workbench.activityBar.location": "bottom",
  "workbench.colorTheme": "Concrete",
  "workbench.editor.empty.hint": "hidden",
  "workbench.editor.tabSizing": "shrink",
  "workbench.editorAssociations": {
    // Disable interactive rebase editor
    "git-rebase-todo": "default",
    "*.ipynb": "jupyter.notebook.ipynb"
  },
  "workbench.productIconTheme": "macos-modern",
  "workbench.sideBar.location": "right",
  "workbench.startupEditor": "none",

  // ------------------------
  // DANCE SETTINGS
  // ------------------------
  // Reference: https://github.com/71/dance/issues/299#issuecomment-1655509531
  // ------------------------
  "dance.defaultMode": "helix/insert",
  "dance.modes": {
    "": {
      "hiddenSelectionsIndicatorsDecoration": {
        "after": {
          "color": "$list.warningForeground",
          "fontStyle": "inherit; margin-right: 100vw"
        },
        "isWholeLine": false
      }
    },
    "magit": {
      "inheritFrom": "helix/normal"
    }
  },
  "dance.menus": {
    "left-bracket-hx": {
      "title": "Left bracket",
      "items": {
        "d": { "text": "Goto previous diagnostic", "command": "editor.action.marker.prevInFiles" },
        // "D": { "text": "Goto first diagnostic", "command": "???" },
        "g": { "text": "Goto previous change", "command": "workbench.action.editor.previousChange" },
        // "G": { "text": "Goto first change", "command": "???" },
        // "f": { "text": "Goto previous function", "command": "???" },
        // "t": { "text": "Goto previous type definition", "command": "???" },
        // "a": { "text": "Goto previous parameter", "command": "???" },
        // "c": { "text": "Goto previous comment", "command": "???" },
        // "T": { "text": "Goto previous test", "command": "???" },
        // "p": { "text": "Goto previous paragraph", "command": "???" },
        " ": { "text": "Add newline above", "command": "dance.edit.newLine.above" }
      }
    },
    "right-bracket-hx": {
      "title": "Right bracket",
      "items": {
        "d": { "text": "Goto next diagnostic", "command": "editor.action.marker.nextInFiles" },
        // "D": { "text": "Goto last diagnostic", "command": "???" },
        "g": { "text": "Goto next change", "command": "workbench.action.editor.nextChange" },
        // "G": { "text": "Goto last change", "command": "???" },
        // "f": { "text": "Goto next function", "command": "???" },
        // "t": { "text": "Goto next type definition", "command": "???" },
        // "a": { "text": "Goto next parameter", "command": "???" },
        // "c": { "text": "Goto next comment", "command": "???" },
        // "T": { "text": "Goto next test", "command": "???" },
        // "p": { "text": "Goto next paragraph", "command": "???" },
        " ": { "text": "Add newline below", "command": "dance.edit.newLine.below" }
      }
    },
    "leader-hx": {
      "title": "Space",
      "items": {
        "f": { "text": "Open file picker", "command": "workbench.action.quickOpen" },
        // "F": { "text": "Open file picker at current working directory", "command": "???" },
        "b": { "text": "Open buffer picker", "command": "workbench.action.showAllEditors" },
        // "j": { "text": "Open jumplist picker", "command": "???" },
        "s": { "text": "Open symbol picker", "command": "workbench.action.gotoSymbol" },
        // "S": { "text": "Open workspace symbol picker", "command": "???" },
        "d": { "text": "Open diagnostic picker", "command": "workbench.actions.view.problems" },
        // "D": { "text": "Open workspace diagnostic picker", "command": "???" },
        "a": { "text": "Perform code action", "command": "editor.action.quickFix" },
        // "'": { "text": "Open last picker", "command": "???" },
        "g": { "text": "Debug", "command": "dance.openMenu", "args": [{ "menu": "debug-hx", "locked": true }] },
        "w": { "text": "Window", "command": "dance.openMenu", "args": [{ "menu": "window-hx" }] },
        "y": { "text": "Join and yank selections to clipboard", "command": "dance.run", "args": [{ "commands": [["dance.selections.saveText", { "register": "dquote" }], ".modes.set.normal"] }] },
        "Y": { "text": "Yank main selection to clipboard", "command": "dance.run", "args": [{ "commands": [["dance.selections.saveText", { "register": "dquote" }], ".modes.set.normal"] }] },
        "p": { "text": "Paste clipboard after selections", "command": "dance.edit.insert", "args": [{ "handleNewLine": true, "where": "end" }] },
        "P": { "text": "Paste clipboard before selections", "command": "dance.edit.insert", "args": [{ "handleNewLine": true, "where": "start" }] },
        "R": { "text": "Replace selections by clipboard content", "command": "dance.edit.insert", "args": [{ "register": "dquote" }] },

        // CUSTOM! use find-it-faster rather than the default search
        // "/": { "text": "Global search in workspace folder", "command": "search.action.openEditor" },
        "/": { "text": "Global search in workspace folder", "command": "runCommands", "args": { "commands": ["maximizeterminal.openMaximizedTerminal", "find-it-faster.findWithinFiles"] } },

        // "/": { "text": "Global search in workspace folder", "command": "find-it-faster.findWithinFiles" },
        "k": { "text": "Show docs for item under cursor", "command": "editor.action.showHover" },
        "r": { "text": "Rename symbol", "command": "editor.action.rename" },
        // "h": { "text": "Select symbol references", "command": "???" },
        "?": { "text": "Open command palette", "command": "workbench.action.showCommands" },

        // CUSTOM! add project manager menu
        ".": { "text": "Switch project", "command": "projectManager.listProjects" },

        // CUSTOM! add magit menu
        "m": { "text": "Magit", "command": "runCommands", "args": { "commands": ["magit.status", { "command": "dance.modes.set", "args": { "mode": "magit" } }] } },

        // CUSTOM! add emmet menu
        "e": { "text": "Emmet", "command": "dance.openMenu", "args": [{ "menu": "emmet" }] }
      }
    },
    "emmet": {
      "title": "Emmet",
      "items": {
        "g": { "text": "Goto matching pair", "command": "editor.emmet.action.matchTag" },

        "n": { "text": "Goto next edit point", "command": "editor.emmet.action.nextEditPoint" },
        "N": { "text": "Goto previous edit point", "command": "editor.emmet.action.prevEditPoint" },

        "w": { "text": "Wrap with abbreviation", "command": "editor.emmet.action.wrapWithAbbreviation" },

        "b": { "text": "Balance (inwards)", "command": "emmet.action.balanceIn" },
        "B": { "text": "Balance (outwards)", "command": "emmet.action.balanceOut" },

        "d": { "text": "Remove tag", "command": "editor.emmet.action.removeTag" },
        "s": { "text": "Split/join tag", "command": "editor.emmet.action.splitJoinTag" }
      }
    }
  }
}
