{
  "$schema": "https://opencode.ai/config.json",

  "theme": "system",

  "autoupdate": true,

  "tui": {
    "scroll_acceleration": {
      "enabled": true
    }
  },

  "permission": {
    "edit": "allow",

    // Deny reading .env files
    "read": {
      ".env": "deny",
      ".env.*": "deny",
      ".env-*": "deny",
      "*.env.example": "allow"
    },

    "bash": {
      "*": "ask",

      // Basic unix commands
      "ls *": "allow",
      "find *": "allow",
      "grep *": "allow",
      "awk *": "allow",
      "head *": "allow",
      "tail *": "allow",
      "echo *": "allow",
      "mkdir *": "allow",
      "which *": "allow",

      // Common cli tools
      "pnpm *": "allow",
      "npm *": "allow",
      "yarn *": "allow",
      "uv *": "allow",
      "moon *": "allow",
      "vitest *": "allow",
      "pnpx *": "allow",

      // Terraform commands
      "terraform *": "deny",
      "terraform init": "allow",
      "terraform validate": "allow",

      // Git commands
      "git log *": "allow",
      "git status *": "allow",
      "git diff *": "allow",
      "git show *": "allow",
      "git branch *": "allow",
      "git commit": "deny",
      "git push *": "deny",

      // Dangerous commands
      "sudo *": "deny",
      "rm -rf /": "deny",
      "rm -rf /*": "deny",
      "rm -rf ~": "deny",
      "rm -rf ~/*": "deny",
      ":(){:|:&};:": "deny" // fork bomb, just in case,
    }
  },

  "mcp": {
    // Docs lookup for libraries - https://context7.com
    "context7": {
      "type": "remote",
      "url": "https://mcp.context7.com/mcp"
    },

    // Web fetching - MCP official server (Python via uvx)
    "fetch": {
      "type": "local",
      "command": ["uvx", "mcp-server-fetch"]
    }
  }
}
